use Sockeon\Sockeon\Validation\Validator;

#[SocketOn('user.register')]
public function handleUserRegister(int $clientId, array $data): void
{
    $validator = new Validator($data, [
        'name' => ['required','string'],
        'email' => ['required', 'email'],
    ]);

    if (!$validator->validate()) {
        $this->emit($clientId, 'error', [
            'errors' => $validator->getErrors()
        ]);
        return;
    }

    // Process valid data
}

